!function(t){var i={};function s(e){if(i[e])return i[e].exports;var h=i[e]={i:e,l:!1,exports:{}};return t[e].call(h.exports,h,h.exports,s),h.l=!0,h.exports}s.m=t,s.c=i,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)s.d(e,h,function(i){return t[i]}.bind(null,h));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=0)}([function(t,i,s){const e=s(1),h=s(10),n=s(11),a=s(12),o=new e,r=new h,l=new n,c=new a;r.init(o,l,c,30),c.registerSound({name:"failedSound",src:"sounds/failedSound.mp3"});const g=[l.registerImage({name:"flightImage",src:"image/flightIcon.png"})];Promise.all(g).then(r.start())},function(t,i,s){const{Net:e,Player:h,Ball:n,Robot:a,HitLine:o}=s(2);t.exports=class{init(t,i,s,r){this.canvasWidth=t,this.canvasHeight=i,this.drawables=[],this.imageManager=s,this.soundManager=r;this.net=new e(400,420,t),this.player=new h(200,0,420,this.net),this.ball=new n(300,0,420,t,this.net),this.robot=new a(600,420,this.ball,420,t,this.net),this.hitLine=new o(0,0),this.drawables.push(this.hitLine),this.drawables.push(this.player),this.drawables.push(this.robot),this.drawables.push(this.ball),this.drawables.push(this.net)}update(){this.player.move(),this.ball.move(),this.robot.checkHit()}getDrawables(){return this.drawables}keyDownListener(t){switch(t){case"A":case"a":this.player.movingLeft();break;case"D":case"d":this.player.movingRight();break;case"W":case"w":this.player.jump()}}keyPressListener(t){switch(t){case"A":case"a":this.player.movingLeft();break;case"D":case"d":this.player.movingRight();break;case"W":case"w":this.player.jump()}}keyUpListener(t){switch(t){case"A":case"a":this.player.stopMovingLeft();break;case"D":case"d":this.player.stopMovingRight()}}inputDownListener(t,i){this.player.startSwing(t,i),this.hitLine.startSwing(t,i)}inputMoveListener(t,i){this.player.updateSwingArea(t,i),this.hitLine.updateEndPos(t,i)}inputUpListener(t,i){const s=this.ball.checkHit(this.player),e=this.player.finishSwing(t,i);s&&this.ball.hit(e),this.hitLine.finishSwing()}}},function(t,i,s){const e=s(3),h=s(4),n=s(5),a=s(6),o=s(7),r=s(8),l=s(9);t.exports={Ball:e,HitLine:h,Net:n,Player:a,Robot:o,SimpleImageParticle:r,SimpleSquareParticle:l}},function(t,i){t.exports=class{constructor(t,i,s,e,h){this.net=h,this.x=t,this.y=i,this.groundY=s,this.groundW=e,this.velX=0,this.velY=0,this.accelX=0,this.accelY=1,this.color="#FF0000",this.radius=3,this.speed=0}move(){const t=.0065,i=this.velX>=0?1:-1,s=Math.abs(this.velX),e=this.x+1/t*Math.log(1+t*this.velX);this.velX=1*i/(1/s+t);const h=this.velY>=0?1:-1,n=Math.abs(this.velY);this.y,Math.log(1+t*this.velY);if(this.velY=1*h/(1/n+t)+this.accelY,0!=this.velX&&(this.x-this.net.x)*(e-this.net.x)<0){const t=this.net.x-this.x,i=this.velY*t/this.velX;this.y+i>=this.net.top&&(this.velX=0,this.x=this.net.x+(this.x<this.net.x?-this.radius:this.radius))}this.y+this.velY>=this.groundY?(this.x+=this.velX,this.velX=0,this.velY=0,this.y=this.groundY):(this.x+=this.velX,this.y+=this.velY),this.x+this.velX<=5?(this.velX=0,this.x=5):this.x+this.velX>=this.groundW-5&&(this.velX=0,this.x=this.groundW-5)}checkHit(t){const i=this.x-t.x,s=this.y-t.y,e=this.XYtoR(i,s),h=i*i+s*s;return h<=(t.swingRange+25)*(t.swingRange+25)&&h>=500&&Math.abs(e-t.swingR)<=.25*Math.PI}hit(t){console.log(t.p);const i=t.p<=3e3?1*Math.sqrt(t.p):2*Math.sqrt(t.p)+2*Math.sqrt(t.p-3e3);this.velX=Math.cos(t.r)*i;var s=this.velY>0?1.25:1;this.velY=Math.sin(t.r)*i*s}drawToContext(t){t.fillStyle=this.color,t.fillRect(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}XYtoR(t,i){return Math.atan2(t,-i)-.5*Math.PI}}},function(t,i){t.exports=class{constructor(t,i){this.color="#000000",this.startX=t,this.startY=i,this.endX=t,this.endY=i,this.isSwinging=!1}startSwing(t,i){this.isSwinging=!0,this.updateStartPos(t,i)}updateStartPos(t,i){this.startX=t,this.startY=i}finishSwing(t,i){this.isSwinging=!1}updateEndPos(t,i){this.endX=t,this.endY=i}drawToContext(t){this.isSwinging&&(t.lineWidth=3,t.strokeStyle=this.color,t.beginPath(),t.moveTo(this.startX,this.startY),t.lineTo(this.endX,this.endY),t.stroke())}}},function(t,i){t.exports=class{constructor(t,i,s){this.x=t,this.groundY=i,this.groundW=s,this.velX=0,this.velY=0,this.accelX=0,this.accelY=.5,this.color="#0000FF",this.width=3,this.height=100,this.y=i-this.height/2,this.top=i-this.height,this.speed=0}checkHit(t){}drawToContext(t){t.fillStyle=this.color,t.fillRect(this.x-this.width/2,this.y-this.height/2,this.width,this.height)}XYtoR(t,i){return Math.atan2(t,-i)-.5*Math.PI}}},function(t,i){t.exports=class{constructor(t,i,s,e){this.net=e,this.x=t,this.y=i,this.velX=0,this.velY=0,this.accelX=0,this.accelY=.5,this.color="#FF0000",this.height=40,this.width=20,this.speed=6,this.footHeight=s-this.height/2,this.isMovingLeft=0,this.isMovingRight=0,this.swingR=0,this.swingRangeColor="#0000FF66",this.swingRange=60,this.startSwingX=0,this.startSwingY=0,this.isSwinging=!1}startSwing(t,i){this.isSwinging=!0,this.startSwingX=t,this.startSwingY=i}finishSwing(t,i){this.isSwinging=!1;const s={},e=t-this.startSwingX,h=i-this.startSwingY;return s.r=this.XYtoR(e,h),s.p=Math.sqrt(Math.sqrt(e*e+h*h))*Math.sqrt(e*e+h*h),s}updateSwingArea(t,i){this.isSwinging||(this.swingR=this.XYtoR(t-this.x,i-this.y))}movingRight(){this.isMovingRight=1}movingLeft(){this.isMovingLeft=1}stopMovingRight(){this.isMovingRight=0}stopMovingLeft(){this.isMovingLeft=0}move(){const t=this.x+this.speed*(this.isMovingRight-this.isMovingLeft),i=this.net.x-this.width;this.x=t>i?i:t,this.y+this.velY>=this.footHeight?(this.velY=0,this.y=this.footHeight):(this.velY+=this.accelY,this.y+=this.velY)}jump(){this.y>=this.footHeight&&(this.velY=-10)}drawToContext(t){t.beginPath(),t.arc(this.x,this.y,this.swingRange,this.swingR-.25*Math.PI,this.swingR+.25*Math.PI,!1),t.lineWidth=40,t.strokeStyle=this.swingRangeColor,t.stroke(),t.fillStyle=this.color,t.fillRect(this.x-this.width/2,this.y-this.height/2,this.width,this.height)}XYtoR(t,i){return Math.atan2(t,-i)-.5*Math.PI}}},function(t,i){t.exports=class{constructor(t,i,s,e,h,n){this.x=t,this.y=i,this.groundY=e,this.groundW=h,this.velX=0,this.velY=0,this.accelX=0,this.accelY=.5,this.color="#999900",this.width=200,this.height=3,this.speed=0,this.ball=s,this.net=n}move(){}checkHit(t){this.ball.y<this.groundY||this.ball.x<this.x-this.width||this.ball.x>this.x+this.width||(this.ball.x-this.net.x<10?(this.ball.velY=-10-180*Math.random(),this.ball.velX=20*Math.random()):(this.ball.velY=-10-180*Math.random(),this.ball.velX=100*-Math.random()))}drawToContext(t){t.fillStyle=this.color,t.fillRect(this.x-this.width,this.y-this.height,2*this.width,2*this.height)}XYtoR(t,i){return Math.atan2(t,-i)-.5*Math.PI}}},function(t,i){t.exports=class{constructor(t,i,s){this.x=t,this.y=i,this.velX=0,this.velY=0,this.accelX=0,this.accelY=0,this.color="#FF0000",this.radius=10,this.image=s}hitTest(t,i){return t>this.x-this.radius&&t<this.x+this.radius&&i>this.y-this.radius&&i<this.y+this.radius}drawToContext(t){t.save(),t.translate(this.x,this.y),t.drawImage(this.image,-this.image.width/2,-this.image.height/2),t.restore()}}},function(t,i){t.exports=class{constructor(t,i){this.x=t,this.y=i,this.velX=0,this.velY=0,this.accelX=0,this.accelY=0,this.color="#FF0000",this.radius=10}hitTest(t,i){return t>this.x-this.radius&&t<this.x+this.radius&&i>this.y-this.radius&&i<this.y+this.radius}drawToContext(t){t.fillStyle=this.color,t.fillRect(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}},function(t,i){t.exports=class{init(t,i,s,e){this.game=t,this.theCanvas=document.getElementById("mainCanvas"),this.checkMobile()&&(this.theCanvas.width*=2,this.theCanvas.height*=2),this.context=this.theCanvas.getContext("2d"),this.theCanvas.style.display="block",this.addListeners(),this.fps=e,this.sounds={},this.game.init(this.theCanvas.width,this.theCanvas.height,i,s)}checkMobile(){let t=!1;var i;return i=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(t=!0),t}start(){this.timer=setInterval(this.onTimerTick.bind(this),1e3/this.fps)}drawScreen(){this.context.fillStyle="#FFFFFF",this.context.fillRect(0,0,this.theCanvas.width,this.theCanvas.height),this.context.fillStyle="#00DD00",this.context.fillRect(0,395,this.theCanvas.width,this.theCanvas.height-395);const t=this.game.getDrawables();for(const i in t){t[i].drawToContext(this.context)}}onTimerTick(){this.game.update(),this.drawScreen()}addListeners(){this.theCanvas.addEventListener("mousedown",this.mouseDownListener.bind(this),!1),this.theCanvas.addEventListener("touchstart",this.touchDownListener.bind(this),!1),window.addEventListener("mousemove",this.mouseMoveListener.bind(this),!1),window.addEventListener("touchmove",this.touchMoveListener.bind(this),!1),window.addEventListener("mouseup",this.mouseUpListener.bind(this),!1),window.addEventListener("touchend",this.touchUpListener.bind(this),!1),window.addEventListener("keydown",t=>{this.game.keyDownListener(t.key)},!0),window.addEventListener("keypress",t=>{this.game.keyPressListener(t.key)},!0),window.addEventListener("keyup",t=>{this.game.keyUpListener(t.key)},!0)}mouseDownListener(t){const i=this.theCanvas.getBoundingClientRect(),s=(t.clientX-i.left)*(this.theCanvas.width/i.width),e=(t.clientY-i.top)*(this.theCanvas.height/i.height);this.game.inputDownListener(s,e)}touchDownListener(t){t.preventDefault(),t.stopPropagation();const i=this.theCanvas.getBoundingClientRect(),s=t.changedTouches,e=(s[0].pageX-i.left)*(this.theCanvas.width/i.width),h=(s[0].pageY-i.top)*(this.theCanvas.height/i.height);this.game.inputDownListener(e,h)}mouseMoveListener(t){const i=this.theCanvas.getBoundingClientRect(),s=(t.clientX-i.left)*(this.theCanvas.width/i.width),e=(t.clientY-i.top)*(this.theCanvas.height/i.height);this.game.inputMoveListener(s,e)}touchMoveListener(t){t.preventDefault(),t.stopPropagation();const i=this.theCanvas.getBoundingClientRect(),s=t.changedTouches,e=(s[0].pageX-i.left)*(this.theCanvas.width/i.width),h=(s[0].pageY-i.top)*(this.theCanvas.height/i.height);this.game.inputMoveListener(e,h)}mouseUpListener(t){const i=this.theCanvas.getBoundingClientRect(),s=(t.clientX-i.left)*(this.theCanvas.width/i.width),e=(t.clientY-i.top)*(this.theCanvas.height/i.height);this.game.inputUpListener(s,e)}touchUpListener(t){t.preventDefault(),t.stopPropagation();const i=this.theCanvas.getBoundingClientRect(),s=t.changedTouches,e=(s[0].pageX-i.left)*(this.theCanvas.width/i.width),h=(s[0].pageY-i.top)*(this.theCanvas.height/i.height);this.game.inputUpListener(e,h)}}},function(t,i){t.exports=class{constructor(){this.images={}}get(t){return this.images[t]}registerImage(t){this.images[t.name]=new Image;const i=this.images[t.name];return i.src=t.src,new Promise((t,s)=>{i.onload=t,i.onerror=s})}}},function(t,i){t.exports=class{constructor(){this.sounds={}}registerSound(t){this.sounds[t.name]=new Audio(t.src)}play(t){this.sounds[t].play()}}}]);